<?xml version="1.0" encoding="utf-8"?>
<!--
Copyright (C) 2015 DevIntelle Consulting Service Pvt.Ltd (<http://www.devintellecs.com>).

For Module Support : devintelle@gmail.com  or Skype : devintelle
 -->
<odoo>
    <record id="form_merge_invoices" model="ir.ui.view">
        <field name="name">form.merge.invoices</field>
        <field name="model">merge.invoices</field>
        <field name="arch" type="xml">
            <form string="Merge Invoices/Bills">
                <group>
                    <field name="option"/>
                </group>
                <group>
                    <group>
                        <field name="invoice_bill_type" invisible="1"/>
                        <field name="invoice_id"
                               options="{'no_create': True, 'no_quick_create': True}"
                               attrs="{'invisible': [('option', 'not in', ['existing_merge_cancel'])],
                                       'required': [('option', 'in', ['existing_merge_cancel'])]}"
                               domain="[('type', '=', invoice_bill_type), ('state', '=', 'draft')]"/>
                    </group>
                </group>
                <label for="invoice_ids" name="selected_invoices" string="Selected Invoices to Merge" style="font-size: 16px;margin-bottom: 5px;color: #7C7BAD;"/><br/>
                <field name="invoice_ids" readonly="1">
                    <tree>
                        <field name="partner_id"/>
                        <field name="date_invoice"/>
                        <field name="number"/>
                        <field name="user_id"/>
                        <field name="date_due"/>
                        <field name="origin"/>
                        <field name="amount_total"/>
                        <field name="state"/>
                    </tree>
                    <form>
                        <group>
                            <group>
                                <field name="partner_id" readonly="1"/>
                                <field name="date_invoice" readonly="1"/>
                                <field name="number" readonly="1"/>
                                <field name="user_id" readonly="1"/>
                            </group>
                            <group>
                                <field name="date_due" readonly="1"/>
                                <field name="origin" readonly="1"/>
                                <field name="amount_total" readonly="1"/>
                            </group>
                        </group>
                    </form>
                </field>
                <footer>
                    <button string="Merge" name="merge_invoices" type="object" class="oe_highlight"/>
                    <button string="Cancel" class="oe_link" special="cancel" />
                </footer>
            </form>
        </field>
    </record>

    <act_window
            id="merge_invoices_or_bills"
            name="Merge Invoices/Bills"
            res_model="merge.invoices"
            src_model="account.invoice"
            view_mode="form"
            multi="True"
            target="new"
            key2="client_action_multi"
            view_type="form"
        />
</odoo>